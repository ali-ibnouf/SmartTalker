# =============================================================================
# SmartTalker — Python Dependencies (pinned versions)
# Install: pip install -r requirements.txt
# =============================================================================

# ── Web Framework ────────────────────────────────────────────────────────────
fastapi==0.115.6
uvicorn[standard]==0.34.0
starlette==0.45.3
python-multipart==0.0.20
websockets==14.2
prometheus-fastapi-instrumentator==7.0.0
aiortc>=1.9.0

# ── Data Validation ──────────────────────────────────────────────────────────
pydantic==2.10.5
pydantic-settings==2.7.1

# ── HTTP Client ──────────────────────────────────────────────────────────────
httpx==0.28.1
aiofiles==24.1.0

# ── Redis ────────────────────────────────────────────────────────────────────
redis==5.2.1

# ── Audio / Video ────────────────────────────────────────────────────────────
ffmpeg-python==0.2.0
soundfile==0.13.1
librosa==0.10.2.post1
numpy==1.26.4
scipy==1.14.1
pillow==11.1.0

# ── AI / ML Core ─────────────────────────────────────────────────────────────
torch==2.5.1
torchaudio==2.5.1
torchvision==0.20.1

# ── ASR (Fun-ASR) ───────────────────────────────────────────────────────────
funasr==1.2.3
modelscope==1.22.0

# ── TTS (CosyVoice) ─────────────────────────────────────────────────────────
# CosyVoice installed from source — see scripts/download_models.sh

# ── Video (EchoMimicV2) ─────────────────────────────────────────────────────
diffusers==0.32.2
transformers==4.47.1
accelerate==1.2.1
safetensors==0.5.2
opencv-python==4.11.0.86

# ── Upscale (RealESRGAN) ────────────────────────────────────────────────────
realesrgan==0.3.0
basicsr==1.4.2
facexlib==0.3.0
gfpgan==1.3.8

# ── Logging ──────────────────────────────────────────────────────────────────
python-json-logger==3.2.1
structlog==24.4.0

# ── Testing ──────────────────────────────────────────────────────────────────
pytest==8.3.4
pytest-asyncio==0.25.2
pytest-cov==6.0.0
httpx  # also used for TestClient

# ── Code Quality ─────────────────────────────────────────────────────────────
ruff==0.9.4
mypy==1.14.1

# ── Utilities ────────────────────────────────────────────────────────────────
python-dotenv==1.0.1
pyyaml==6.0.2
tqdm==4.67.1
unicodedata2==15.1.0
