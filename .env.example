# =============================================================================
# SmartTalker — Environment Variables
# Copy to .env and fill in your values: cp .env.example .env
# =============================================================================

# ── General ──────────────────────────────────────────────────────────────────
APP_NAME=SmartTalker
APP_ENV=development
DEBUG=true
LOG_LEVEL=INFO

# ── API Server ───────────────────────────────────────────────────────────────
API_HOST=0.0.0.0
API_PORT=8000
API_WORKERS=1
CORS_ORIGINS=*
# API authentication key (REQUIRED in production)
API_KEY=
# Rate limit per IP per minute
RATE_LIMIT_PER_MINUTE=60

# ── ASR (Fun-ASR Nano) ──────────────────────────────────────────────────────
ASR_MODEL_ID=FunAudioLLM/Fun-ASR-Nano-2512
ASR_VAD_MODEL=fsmn-vad
ASR_DEVICE=cuda:0
ASR_MODEL_DIR=./models/funasr

# ── LLM (Qwen 2.5 via Ollama) ───────────────────────────────────────────────
LLM_MODEL_NAME=qwen2.5:14b
LLM_BASE_URL=http://localhost:11434
LLM_TIMEOUT=30
LLM_MAX_TOKENS=512
LLM_TEMPERATURE=0.7
LLM_MAX_HISTORY=10

# ── TTS (CosyVoice 3.0) ─────────────────────────────────────────────────────
TTS_MODEL_DIR=./models/cosyvoice
TTS_DEVICE=cuda:0
TTS_SAMPLE_RATE=22050
TTS_DEFAULT_VOICE=default
TTS_MAX_TEXT_LENGTH=1000

# ── Video (EchoMimicV2) ─────────────────────────────────────────────────────
VIDEO_MODEL_DIR=./models/echomimic
VIDEO_DEVICE=cuda:0
VIDEO_FPS=25
VIDEO_RESOLUTION=512x512
VIDEO_ENABLED=false

# ── Upscale (RealESRGAN + CodeFormer) ────────────────────────────────────────
UPSCALE_MODEL_DIR=./models/upscale
UPSCALE_DEVICE=cuda:0
UPSCALE_TARGET_RESOLUTION=1080p
UPSCALE_ENABLED=false

# ── Redis ────────────────────────────────────────────────────────────────────
REDIS_URL=redis://localhost:6379/0
REDIS_TTL=3600

# ── Storage ──────────────────────────────────────────────────────────────────
STORAGE_BACKEND=local
STORAGE_BASE_DIR=./outputs
STORAGE_MAX_FILE_AGE_HOURS=24
STATIC_FILES_DIR=./files

# ── WhatsApp (Meta Business API) ─────────────────────────────────────────────
WHATSAPP_VERIFY_TOKEN=your-verify-token-here
WHATSAPP_ACCESS_TOKEN=your-access-token-here
WHATSAPP_PHONE_NUMBER_ID=your-phone-number-id
WHATSAPP_APP_SECRET=your-app-secret-here
WHATSAPP_API_VERSION=v18.0
WHATSAPP_WEBHOOK_URL=https://your-domain.com/webhook

# ── GPU ──────────────────────────────────────────────────────────────────────
CUDA_VISIBLE_DEVICES=0
GPU_MEMORY_FRACTION=0.9

# ── Deployment ───────────────────────────────────────────────────────────────
DOMAIN_NAME=localhost
SSL_CERT_PATH=/etc/letsencrypt/live/localhost/fullchain.pem
SSL_KEY_PATH=/etc/letsencrypt/live/localhost/privkey.pem
